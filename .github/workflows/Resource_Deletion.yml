name: Delete Resource Group

on:
    workflow_dispatch:
        inputs:
            resource_group:
                description: 'The name of the resource group to delete'
                required: true

jobs:
    delete-resource-group:
        runs-on: ubuntu-latest

        steps:
        - name: Checkout repository
    uses: actions/checkout@v2

        - name: Azure Login
            uses: azure/login@v1
            with:
                creds: ${{ secrets.AZURE_CREDENTIALS }}

        - name: Delete Resource Group
            run: |
                az group delete --name ${{ github.event.inputs.resource_group }} --yes --no-wait